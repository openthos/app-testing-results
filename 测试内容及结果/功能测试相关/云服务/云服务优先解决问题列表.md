# 云服务问题列表及测试结果
- [当前版本剩余任务](#当前版本剩余任务)
   - [重要](#重要)
   - [不重要](#不重要)
- [已通过测试的任务](#已通过测试的任务)
   - [存疑](#存疑)
   - [没有疑问](#没有疑问)
***
## 当前版本剩余任务
### 重要
- 王之旭：seaf_start.sh改为seafile-keeper或cloud-service-keeper------------2018-12-18刘总提，王之旭做
- cloud和dev服务器网页端还没有隐藏.userconfig、禁止删除特殊库------------158服务器已修改，待合并，等待网站备案
- cloud服务器网页版80端口无法使用，需要使用443端口------------等待网站备案
- openthos云
   - 刘总提的需求
      - 1. 左右分栏联动现在需要双击，应改成左边库激活（单击或者按tab切换焦点）就切换右侧查看器
      - 2. 现在窗体改大小的时候，左右分栏和其他UI组件跟随缩放的策略有点问题
      - 3. 左侧窗体内容重复，只有一组“我的资料库“就可以了，并按照更新时间排序,其他的“最近修改”和“已同步”没有意义
      - 4. 对应左侧窗体资料库的右键菜单去掉“打开云端文件浏览器”
      - 5. 共享功能隐藏
   - [测试结果](https://github.com/openthos/app-testing-results/blob/master/%E6%B5%8B%E8%AF%95%E5%86%85%E5%AE%B9%E5%8F%8A%E7%BB%93%E6%9E%9C/%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95%E7%9B%B8%E5%85%B3/%E4%BA%91%E6%9C%8D%E5%8A%A1/testresult/openthos%E4%BA%91%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.md)

### 不重要
- 肖络元：云服务DATA目录删除apk文件后，quota中的空间占用仍然包括这个apk文件，且此后一直占用，除非重启电脑------------**原因已找到，是由于android默认对apk文件进行扫描，删除后被进程的link还没有立即释放掉。可以通过重启电脑解除这个apk的quota空间占用。**
- 备份前有使用过任务管理器的话，还原后会出现xposed停止运行报错,[log](https://github.com/openthos/app-testing-results/blob/master/%E6%B5%8B%E8%AF%95%E5%86%85%E5%AE%B9%E5%8F%8A%E7%BB%93%E6%9E%9C/%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95%E7%9B%B8%E5%85%B3/%E4%BA%91%E6%9C%8D%E5%8A%A1/log/xposedstop.txt)------------2018-12-27新增
- 遇到过data目录莫名取消同步的问题，建议增加手动同步按钮。[报错图片](https://github.com/openthos/app-testing-results/blob/master/%E6%B5%8B%E8%AF%95%E5%86%85%E5%AE%B9%E5%8F%8A%E7%BB%93%E6%9E%9C/picture/seafile_nodatasync.png?raw=true),[log信息](https://github.com/openthos/app-testing-results/blob/master/%E6%B5%8B%E8%AF%95%E5%86%85%E5%AE%B9%E5%8F%8A%E7%BB%93%E6%9E%9C/%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95%E7%9B%B8%E5%85%B3/%E4%BA%91%E6%9C%8D%E5%8A%A1/log/seafile_nodatasync_keeper.log)------------2018-12-28新增
- 进入设置-绑定云服务帐号，最小化窗口，再从开始菜单新开设置后，窗口标题栏变为云服务；之后再进入设置的云服务，最小化窗口，再新开设置，任务栏的设置图标也会变为云服务，[如图](https://raw.githubusercontent.com/openthos/app-testing-results/master/%E6%B5%8B%E8%AF%95%E5%86%85%E5%AE%B9%E5%8F%8A%E7%BB%93%E6%9E%9C/picture/seafile_settingicon1.png)
- wifi联网有时会出现seaf-cli status为空的问题（遇到过两次，account.config已被创建，但是没有正确被keeper接收，一直存在着）
- 新版本云服务还原旧数据重启后，云服务修改服务器cloud一栏为空
- 文件管理器导航栏中进入云服务，再进入其它目录（比如下载），点击后退，导航栏的云服务不会被选中
- 云服务和u盘中的内容无法上传到github，只能复制到其它目录后再上传
- 当本地文件总量太大不可上传的时候，通知中心还显示的是“同步完成”。------------偶尔遇到
- 云服务停止运行后，查询状态命令仍然显示synchronized，不会给出报错------------后来没有复现，但要解决这个隐患
- seafile报错问题
   - 有时报too many request错误
   - clone服务器端.UserConfig目录时有时会出现server error报错
   
***

## 已通过测试的任务
### 存疑
- 王之旭：解决应用新patch后首次配置登录云服务帐号后，会卡在初始化壁纸进不了桌面------------测试通过，**不过首次配置时登录云服务帐号的顺序放在了安装应用及初始化壁纸之后**
- 刘晓旭：备份还原帐户------------2018-12-20 测试通过，**需要配合应用备份才能达到效果，当前仅在设置-帐号中有显示，仍然不能自动登录帐号**
- 刘晓旭：增加容量检查 80% 90% 两道门槛------------158服务器上测试通过，**不过当前服务器上容量计算单位是十进制，本地是二进制，可能引起用户误解**
- 王之旭：未登录帐号的情况下登录云服务，提示no found openthos id，点击exit按钮设置应用会关闭------------测试通过，**建议像文件管理器一样跳转到登录页面**
### 没有疑问
- 肖络元：cloud和dev服务器网页端增加容量限制------------2019-01-08 测试通过
- 刘晓旭：更新后云服务quota超限后弹出的提示为空白------------2019-01-07 测试通过
- 刘晓旭：超出容限后通知中心仍提示完成同步，建议修改为“已超出容限，请删除其它文件后重新上传“------------2019-01-07 测试通过
- 肖络元：系统重置后，云服务quota不起作用------------2019-01-04 测试通过
- 肖络元：重启电脑后，云服务不会再提示空间超限------------2019-01-04 测试通过
- 卢宁：云服务下载时，通知中心里数据和配置的下载进度显示在一行，建议分行显示------------2019-01-04 测试通过
- 建议用ext4文件系统的project quota功能实现文件限额，不用du了------------2018-12-29 测试通过
- 有两个seaf_start进程------------2018-12-29 测试通过
- 王之旭：绑定云服务帐号后会很快自动生成一个当日的备份配置，容易和服务器上的当日备份文件冲突，建议30分钟后再开始生成备份配置（预留出同步时间）------------2018-12-29 测试通过
- 王之旭：云服务自动备份选项与实际保持一致------------2018-12-29 测试通过
- clone过程中切换网络，比如将无线网改为有线，clone会停止，改回原来的网络才能继续使用------------大约5分钟后可正常同步
- 卢宁：还原后有时电脑通知栏不显示云服务clone的通知------------2018-12-26 测试通过
- 卢宁：云服务通知做一个不可清除的状态，只在状态改变的时候刷一下就好------------2018-12-26 测试通过
- 罗浩：首次绑定帐号后，文件管理器图片和文档目录中新增的内容没有传到服务器上，命令行里上传正常------------2018-12-26 测试通过
- 王之旭：不解绑帐号直接切换服务器，还是会出现本地同时绑定两个帐号的问题------------2018-12-26 测试通过
- 刘晓旭：修改网页版云服务修改密码使token失效，可以弹出登陆窗。但无论输入新密码还是旧密码均无法登陆，提示用户名或密码错误。而在网页版云服务还是输入旧密码才能登陆。只有在设置里解除绑定再重新绑定后，云服务才能正常同步------------2018-12-25 测试通过
- 卢宁：首次绑定帐号后，通知中心的出现云服务信息的通知框，但是标题和内容都为空，重新打开通知中心才有显示------------2018-12-23 测试通过
- 刘晓旭：新版本绑定云服务帐号后不显示通知，同步完成后才显示------------2018-12-23 测试通过
- 刘晓旭：设置锁屏密码为图案，备份还原后任意图案均可解除锁屏------------2018-12-23 测试通过
- 罗浩：备份还原后浏览器经常无法打开------------2018-12-21 测试通过
- 刘晓旭：备份还原也纪录了窗口的大小，如果在两台显示器大小不一样的电脑间备份还原，还原后的最大化窗口会超出屏幕;小屏幕的还原到大屏幕设备上锁屏界面也无法正常显示------------2018-12-21 测试通过
- 王之旭：无法设置云服务目录下的图片为壁纸，提示“无法加载要设置为壁纸的图片“------------2018-12-21 测试通过
- 王之旭：选择还原文件的弹出框没有确认按钮，建议增加------------2018-12-20 测试通过
- 王之旭：首次配置的登录openthos id没有服务器选项，只能登dev的账号------------2018-12-20 测试通过
- 刘晓旭：备份还原应用打开方式偏好、锁屏密码------------2018-12-20 测试通过
- 王之旭：点击“选择文件”，显示的列表次序比较乱，不是按创建时间或文件名排序的。------------2018-12-20 测试通过
- 王之旭：点击“手动备份”没有反馈，不知道是否备份成功，如果多次点击不知道是覆盖了之前的备份文件还是备份不成功。------------2018-12-20 测试通过
- 肖络元：本地刚刚新建的文件在服务器网页上会显示5分钟之前创建，而网页上新创建的文件则正常显示为几秒钟前创建------------2018-12-19 测试通过
- 王之旭：clone状态下被打断后，提供继续正常运行云服务功能的操作（强制关机）------------2018-12-19 测试通过
- 刘晓旭：备份还原壁纸、机主信息------------2018-12-19 测试通过
- 王之旭：第一次绑定帐号后还原系统，重启后帐号没有绑定------------2018-12-19 测试通过
- 王之旭：备份还原不再是软重启，请修改相关提示------------2018-12-19 测试通过
- 王之旭：首次配置云服务登录服务器换回dev------------2018-12-19 测试通过
- 刘晓旭：备份还原系统语言------------2018-12-18 测试通过
- 王之旭：绑定帐号页面显示https:/cloud.openthos.org/ ，少了一个斜线------------2018-12-18 测试通过
- 王之旭：新版本云服务选择服务器菜单默认都没被选中------------2018-12-18 测试通过
- 王之旭：新版本云服务还原点击无响应------------2018-12-18 测试通过
- 王之旭：clone状态下解除绑定：通知中心通知消失，但是从seaf-cli中可以看到仍在下载数据；重新绑定之前的帐号后提示permission denied on server------------2018-12-17 测试通过
- 王之旭：clone状态下解绑再绑定新帐号，就会出现本地同时绑定两个帐号的问题，前一个帐号的图片和文档目录会被同步成和后一个帐号完全一样------------2018-12-17 测试通过
- 王之旭：目前云服务只能在实验室的网络环境中使用，外网只能绑定帐号，进入云服务会提示“请检查输入地址“------------测试通过
- 王之旭：部分电脑（比如s6笔记本、小黑盒）绑定帐号后重启电脑，文件管理器的云服务仍提示未绑定帐号------------测试通过
- 王之旭：文件管理器导航栏进入云服务后，导航栏的云服务没有被置为选中------------测试通过
- 王之旭：不让特殊符号成为id------------测试通过
- 王之旭： 备份还原
   - 自动备份按钮状态保存------------测试通过
   - 备份还原的选择还原文件按钮不明显------------测试通过
   - 还原增加重启提示------------测试通过
   - 更明朗的界面------------测试通过
- 王之旭：点击绑定235服务器的帐号后，长时间没有任何提示响应，且之后再进入别的服务器也不会有响应，建议设置15秒超时限制------------测试通过
- 王之旭：多次绑定解绑会出现云服务停止运行错误------------测试通过
- 王之旭：去掉初始化DATA和UserConfig的代码------------测试通过
- 王之旭：无网络的时候，建议提示“无法连接服务器，请检查网络“------------测试通过
- 王之旭：有时输入多个正确帐号和密码均提示“帐号失效，请输入正确帐号密码“------------测试通过
- 王之旭：正在同步状态下重启电脑，重启后云服务仍然在同步，KeeperState也有同步信息，但是在通知中心不显示------------测试通过
- 罗浩：seaf-cli更新至6.2.8------------测试通过
- 罗浩：clone状态下被踢掉：提示permission denied,重启重新绑定帐号也会提示这个报错------------测试通过，通过解决帐号多登问题解决
- 肖络元：seafile网页和客户端禁用分享------------测试通过
- 卢宁：保存数据中去掉密码------------测试通过
- 卢宁：设置中修改openthos服务器为235或158，无法再将服务器切回dev，仍显示之前的服务器------------测试通过
- 王之旭： 待机后无法自动运行云服务------------测试通过
- 王之旭： 目前云服务无法通过文件管理器上传、删除和变更文件，可能和当前版本的kernel没有inotify有关------------测试通过
- 肖络元： 服务器新用户模板，默认创建DATA和.UserConfig两个Library------已完成，在网页上通过测试
- 罗浩： Oauth验证踢掉其他客户端的问题------------158服务器上测试通过
- 罗浩： 服务器单用户设置空间限制，单用户默认2G------------158服务器上测试通过
- 罗浩： UserConfig的特殊属性具备隐藏功能------------158服务器上测试通过
- 罗浩： 增加接口返回特殊属性的Library，增加list-remote-a------------测试通过
- 罗浩： 特殊属性的Library不可删除，不可重命名------------已解决，为了方便调试暂时可以删除DATA目录

